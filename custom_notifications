/** OBJECTS CREATION **/

-- create tables
create sequence custom_notification_seq;

create table custom_notification (
    id                             number default on null custom_notification_seq.NEXTVAL 
                                   constraint custom_notificatio_id_pk primary key,
    user_name                      varchar2(255 char),
    app_id                         number,
    message                        clob,
    subject                        varchar2(255 char),
    read_yn                        varchar2(1 char) constraint custom_notificatio_read_yn_ck
                                   check (read_yn in ('Y','N')),
    created                        date not null,
    created_by                     varchar2(255 char) not null,
    updated                        date not null,
    updated_by                     varchar2(255 char) not null
)
;


-- triggers
create or replace trigger custom_notification_biu
    before insert or update 
    on custom_notification
    for each row
begin
    if inserting then
        :new.created := sysdate;
        :new.created_by := coalesce(sys_context('APEX$SESSION','APP_USER'),user);
    end if;
    :new.updated := sysdate;
    :new.updated_by := coalesce(sys_context('APEX$SESSION','APP_USER'),user);
end custom_notification_biu;
/

-- load data
 
-- Generated by Quick SQL Monday August 11, 2025  13:00:03
 
/*
CUSTOM_NOTIFICATION
 user_name
 app_id
 message clob
 subject vc255
 read_yn

# settings = { PK: "SEQ", semantics: "CHAR", auditCols: true, language: "EN", APEX: true }
*/
